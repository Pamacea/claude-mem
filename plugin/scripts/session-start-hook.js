#!/usr/bin/env bun
"use strict";var s=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var S=(t,n)=>{for(var r in n)s(t,r,{get:n[r],enumerable:!0})},u=(t,n,r,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of p(n))!E.call(t,e)&&e!==r&&s(t,e,{get:()=>n[e],enumerable:!(o=c(n,e))||o.enumerable});return t};var a=t=>u(s({},"__esModule",{value:!0}),t);var R={};S(R,{handleSessionStart:()=>O});module.exports=a(R);function i(){return Date.now().toString(36)+Math.random().toString(36).substring(2,11)}async function O(){try{let t=i(),n=Number.parseInt(process.env.WORKER_PORT||"37777"),o=await(await fetch(`http://127.0.0.1:${n}/api/sessions/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:t,project:process.cwd(),prompt:""})})).json();return console.log(JSON.stringify({continue:!0,suppressOutput:!0,inject:o})),0}catch(t){return console.error(JSON.stringify({error:t instanceof Error?t.message:String(t),exitCode:2})),2}}0&&(module.exports={handleSessionStart});
